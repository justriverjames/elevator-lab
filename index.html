<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elevator Lab</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div id="app">
    <header>
      <h1>Elevator Lab</h1>
      <p>Click call buttons on the left to request elevators</p>
    </header>

    <div id="container">
      <div id="controls">
        <h3>Optimization Priorities</h3>

        <div class="control-group">
          <label>Preset:</label>
          <select id="preset-selector">
            <option value="">Custom</option>
            <option value="residential">Residential</option>
            <option value="office">Office</option>
            <option value="hospital">Hospital</option>
          </select>
        </div>

        <div class="control-group">
          <label>Traffic Pattern:</label>
          <select id="traffic-pattern">
            <option value="random">Random</option>
            <option value="morning-up">Morning Up-Peak</option>
            <option value="evening-down">Evening Down-Peak</option>
          </select>
        </div>

        <div class="slider-group">
          <label>
            <span>Wait Time</span>
            <input type="range" id="priority-wait" min="0" max="100" value="50">
            <span class="value" id="value-wait">0.50</span>
          </label>
        </div>
        <div class="slider-group">
          <label>
            <span>Travel Time</span>
            <input type="range" id="priority-travel" min="0" max="100" value="30">
            <span class="value" id="value-travel">0.30</span>
          </label>
        </div>
        <div class="slider-group">
          <label>
            <span>Energy</span>
            <input type="range" id="priority-energy" min="0" max="100" value="10">
            <span class="value" id="value-energy">0.10</span>
          </label>
        </div>
        <div class="slider-group">
          <label>
            <span>Wear & Tear</span>
            <input type="range" id="priority-wear" min="0" max="100" value="5">
            <span class="value" id="value-wear">0.05</span>
          </label>
        </div>
        <div class="slider-group">
          <label>
            <span>Fairness</span>
            <input type="range" id="priority-fairness" min="0" max="100" value="5">
            <span class="value" id="value-fairness">0.05</span>
          </label>
        </div>
      </div>

      <canvas id="canvas"></canvas>

      <div id="metrics">
        <h3>Metrics</h3>
        <div class="metric">
          <span>Avg Wait Time:</span>
          <span id="avg-wait">-</span>
        </div>
        <div class="metric">
          <span>Avg Travel Time:</span>
          <span id="avg-travel">-</span>
        </div>
        <div class="metric">
          <span>Calls Served:</span>
          <span id="calls-served">0</span>
        </div>
        <div class="metric">
          <span>Active Calls:</span>
          <span id="active-calls">0</span>
        </div>

        <h3>Passengers</h3>
        <div class="metric">
          <span>Waiting:</span>
          <span id="waiting-passengers">0</span>
        </div>
        <div class="metric">
          <span>In Transit:</span>
          <span id="total-passengers">0</span>
        </div>

        <h3>Energy</h3>
        <div class="metric">
          <span>Power Draw:</span>
          <span id="power-draw">0 kW</span>
        </div>
        <div class="metric">
          <span>Total Energy:</span>
          <span id="total-energy">0 kWh</span>
        </div>
      </div>

      <div id="advanced">
        <button id="advanced-toggle" class="toggle-btn">Advanced Settings â–¼</button>
        <div id="advanced-panel" class="collapsed">
          <div class="setting">
            <label>Elevator Mass (kg):</label>
            <input type="number" id="elevator-mass" value="1200" min="800" max="2000" step="50">
          </div>
          <div class="setting">
            <label>Max Capacity:</label>
            <input type="number" id="max-capacity" value="12" min="6" max="20" step="1">
          </div>
          <div class="setting">
            <label>Motor Efficiency (%):</label>
            <input type="number" id="motor-efficiency" value="85" min="50" max="95" step="5">
          </div>
          <div class="setting">
            <label>Spawn Rate (pass/sec):</label>
            <input type="range" id="spawn-rate" min="0" max="5" step="0.1" value="0.5">
            <span id="spawn-rate-value">0.5</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="/src/main.ts"></script>
</body>
</html>
